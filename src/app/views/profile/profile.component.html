<ng-container>

  <app-header></app-header>

  <div *ngIf="user" id="profile-page-header" class="card">
      <div class="card-image">
          <div *ngIf="mobile" class="orange card-image-desktop"></div>
          <div *ngIf="!mobile" class="orange card-image-mobile"></div>                
      </div>
      <div class="card-content-size">
        <div class="row">
            <div *ngIf="!mobile" class="col s2 offset-s2">  
                <figure class="card-profile-image">
                    <br>
                    <img src="{{path}}{{user.path}}" alt="profile image" class="circle z-depth-2 pointer white responsive-img">
                </figure>
              </div>
              <div *ngIf="mobile" class="col s8 offset-s2">  
                <figure class="card-profile-image">
                    <br>
                    <img src="{{path}}{{user.path}}" alt="profile image" class="circle z-depth-2 pointer white responsive-img">
                </figure>
              </div>
          <div class="col m8 s12">
            <h1 *ngIf="!mobile" class="bold white-text">{{user.username}} </h1>
            <h3 *ngIf="mobile" class="bold white-text">{{user.username}} </h3>
            <a *ngIf="!compareUser" class="waves-effect green waves-light btn activator">Ver atributos</a>
            <a *ngIf="compareUser" class="waves-effect green waves-light btn activator">Comparar atributos</a>
            <ng-container *ngIf="user.friends">
              <a *ngIf="user.friends.length != 0" (click)="seeFriends()" class="waves-effect green waves-light btn">Ver Amigos({{user.friends.length}})</a>
            </ng-container>
            <ng-container *ngIf="!isFriend && compareUser && !isRequestFriend">
                <br><br>
                <a (click)="sendRequestFriend(user.id)" id="btn-request-friend" class="waves-effect orange darken-1 waves-light btn">Enviar solicitud de amistad</a>
            </ng-container>
            <ng-container *ngIf="!isFriend && compareUser && isRequestFriend">
                <br><br>
                <a class="waves-effect orange darken-1 waves-light btn disabled">{{isRequestFriendMsg}}</a>
            </ng-container>
            <ng-container *ngIf="isFriend && compareUser && !isRequestMatch">
                <br><br>
                <a (click)="openRequesForm()" id="btn-request-match" class="waves-effect orange darken-1 waves-light btn">Enviar solicitud de partido</a>
            </ng-container>
            <ng-container *ngIf="isFriend && compareUser && isRequestMatch">
                <br><br>
                <a class="waves-effect orange darken-1 waves-light btn disabled">{{isRequestMatchMsg}}</a>
            </ng-container>
            <ng-container *ngIf="user.googlePlaceId">
                <br><br>
                <a href="/club/{{user.googlePlaceId}}" class="waves-effect black waves-light btn">Ver club favorito</a>
            </ng-container>
          </div>
        </div>
        <div class="card-content container">
          <div class="row">                    
            <div class="col m3 s12">                        
                <h4 class="card-title bold white-text">{{user.firstname}} {{user.lastname}}</h4>
                <p class="medium-small bold black-text">Tenista</p>                        
            </div>
            <div class="col m3 s12">
                <h4 class="card-title bold white-text">{{user.gameLevel}}</h4>
                <p class="medium-small bold black-text">Nivel de juego</p>                        
            </div>
            <div class="col m3 s12">
                <h4 class="card-title bold white-text">{{user.gameStyle}}</h4>
                <p class="medium-small bold black-text">Estilo de juego</p>                        
            </div>                    
            <div class="col m3 s12">
                <h4 class="card-title bold white-text">{{user.backhandType}}</h4>
                <p class="medium-small bold black-text">Tipo de reves</p>                 
            </div>                
          </div>
        </div>
        
      </div>
      <div style="z-index:1001" class="card-reveal">
          <div class="container">
            <p>
              <span class="card-title grey-text text-darken-4"><i class="right material-icons">clear</i></span>
            </p>
            <div *ngIf="!mobile" class="row">
              <div class="col m2">
                <h4 *ngIf="!compareUser" class="green-text">Atributos: </h4>
                <h4 *ngIf="compareUser" class="green-text">Emparejamiento: </h4>
              </div>
              <div class="col m10">
                <canvas *ngIf="!compareUser" baseChart scale="25" [datasets]="radarChartData" [labels]="radarChartLabels" [chartType]="radarChartType"></canvas>
                <canvas *ngIf="compareUser && user_aux" baseChart scale="25" [datasets]="radarChartData" [labels]="radarChartLabels" [chartType]="radarChartType"></canvas>
              </div>
            </div>
            <div *ngIf="mobile" class="row">
                <h4 *ngIf="!compareUser" class="green-text">Atributos: </h4>
                <h4 *ngIf="compareUser" class="green-text">Emparejamiento: </h4>
                <canvas *ngIf="!compareUser" baseChart scale="25" [datasets]="radarChartData" [labels]="radarChartLabels" [chartType]="radarChartType"></canvas>
                <canvas *ngIf="compareUser && user_aux" baseChart scale="25" [datasets]="radarChartData" [labels]="radarChartLabels" [chartType]="radarChartType"></canvas>
            </div>
          </div>

      </div>
  </div>

  <div class="container" id="newMatchForm" style="display:none">
    <br>
    <h4 *ngIf="user" class="orange-text">Invitar a {{user.username}} a tu club favorito </h4>

    <form (ngSubmit)="sendRequestMatch()" [formGroup]="formMatch" novalidate="novalidate" class="col s12">
        <div class="row">
            <div class="input-field col s12">
            <input formControlName="title" id="title" type="text" class="validate">
            <label for="title">Nombre del partido</label>
            </div>
            <div class="col s6">
                <small class="grey-text">Fecha</small>
                <input formControlName="date" type="text" class="datepicker">
            </div>
            <div class="col s6">
                <small class="grey-text">Hora</small>
                <input formControlName="hour" type="text" class="timepicker">
            </div>
            <div class="col s12">
            <br>
            <button type='submit' id="btn_submit" name='btn_submit' class='col s12 btn btn-large waves-effect orange'>Enviar invitaci√≥n</button>
            </div>
        </div>
        </form>
  </div>


  <div class="container">

    <collapsible-list [type]="'expandable'" style="margin-top:50px;">
    <collapsible-list-item >
        <collapsible-header class="waves-effect green">
            <h4 class="white-text">Partidos </h4>
        </collapsible-header>
        <collapsible-body [expanded]="true">
        <p>Lista de partidos</p>
        </collapsible-body>
    </collapsible-list-item>
    
    <collapsible-list-item>
        <collapsible-header class="waves-effect green">
            <h4 class="white-text">Torneos </h4>
        </collapsible-header>
        <collapsible-body [expanded]="true">
        <p>Lista de torneos</p>
        </collapsible-body>
    </collapsible-list-item>
    </collapsible-list>
    

  </div>

  <app-footer></app-footer>

</ng-container>